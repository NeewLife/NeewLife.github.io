
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="개발 메모장">
    <title>Oracle day0720 - 개발 메모장</title>
    <meta name="author" content="오세영">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"오세영","sameAs":[]},"articleBody":"\n\nday 0720123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499-- 과거 : SQL은 DB에서 자료를 조회하는 용도-- 현재 : SQL이 수학 &amp; 통계 도구처럼 진화SELECT * FROM EX2_10;-- p.92-- 급여가 5000이 넘는 사원번호와 사원명 조회SELECT * FROM employees;-- Select rows from a TableSELECT     EMPLOYEE_ID    , EMP_NAME    , SALARYFROM EMPLOYEESWHERE salary &gt; 5000ORDER BY EMPLOYEE_ID;-- 급여가 5000 이상, job_id, IT_PROG 사원 조회SELECT EMPLOYEE_ID    , EMP_NAME    , JOB_ID    , salaryFROM EMPLOYEESWHERE salary &gt; 5000    or job_id = &#x27;IT_PROG&#x27;ORDER BY employee_id;-- 테이블에 별칭 줄 수 있음SELECT     -- a 테이블에서 옴(=employees)    a.employee_id, a.emp_name, a.department_id,    -- b 테이블에서 옴(=departments)    b.department_nameFROM -- (a, b 테이블을 각각 employees, departments로 정의)    employees a,    departments bWHERE a.department_id = b.department_id;  -- (즉, 치환하고 비슷하다고 보면 됨)-- INSERT 문CREATE TABLE ex3_1(        col1    VARCHAR2(10),        col2    NUMBER,        COL3    DATE);-- 컬럼에 들어갈 값 넣는 기본형태INSERT INTO ex3_1(        col1,        col2,         col3)VALUES (&#x27;ABC&#x27;,         10,         SYSDATE);-- 컬럼 순서는 바꿔도 상관없지만 각 VALUES절에 있는 순서와 맞춰야 한다.-- col3 -&gt; &#x27;DATE&#x27; 값 / col1 -&gt; &#x27;VARCHAR2(10)&#x27; 값 이런 형식으로INSERT INTO ex3_1(        col3,        col1,        col2)VALUES (SYSDATE,         &#x27;DEF&#x27;,         20);-- 컬럼명 기술 생략한 형태(갯수는 맞춰야함)INSERT INTO ex3_1VALUES (&#x27;GHI&#x27;,        10,        SYSDATE);-- 마찬가지로 갯수는 맞춰야 함INSERT INTO ex3_1(        col1,        col2)VALUES (&#x27;GHI&#x27;,        20);-- 컬럼 갯수랑 입력값 갯수가 달라서 에러 뜸INSERT INTO ex3_1VALUES (&#x27;GHI&#x27;, 30);-- p.98-- 실습용 테이블 만들기CREATE TABLE ex3_2(        emp_id      NUMBER,        emp_name    VARCHAR2(100));-- employees 테이블에서 salary &gt; 5000 인 사원의 emp_id와 emp_name 을 조회한 결과를 ex3_2 테이블에 삽입INSERT INTO ex3_2(        emp_id,        emp_name)SELECT employee_id,       emp_nameFROM employeesWHERE salary &gt; 5000;-- p.99-- UPDATE 활용SELECT * FROM ex3_1;-- ex3_1 테이블의 col2 값을 모두 50으로 변경하기UPDATE ex3_1 SET col2 = 50;-- 확인SELECT * FROM ex3_1;-- 4번째 col3 값이 비어 있는데, 이 값을 현재 날짜로 갱신해보기UPDATE ex3_1    SET col3 = SYSDATEWHERE col3 = &#x27;&#x27;;UPDATE ex3_1    SET col3 = SYSDATEWHERE col3 IS NULL;-- p.101-- Merge, 데이터를 합치다 또는 추가하다-- 조건을 비교해서 테이블에 해당 조건에 맞는 데이터 없으면 추가-- 있으면 UPDATE문을 수행한다CREATE TABLE ex3_3(    employee_id NUMBER    , bonus_amt NUMBER DEFAULT 0);-- sales 테이블에서 2000년 10월 ~ 2000년 12월까지 매출을 달성한 employee_id를 입력하기INSERT INTO ex3_3(employee_id)SELECT    e.employee_idFROM employees e, sales sWHERE e.employee_id = s.employee_id    AND s.SALES_MONTH BETWEEN&#x27;200010&#x27;AND&#x27;200012&#x27;GROUP BY e.employee_id;-- 103.pSELECT    EMPLOYEE_ID    ,MANAGER_ID    ,SALARY    ,salary * 0.001FROM EMPLOYEESWHERE employee_id NOT IN(SELECT employee_id FROM ex3_3)    AND manager_id = 146;-- MERGE를 통해서 작성-- 관리자 사번 146인 것 중, ex3_3 테이블에 없는-- 사원의 사번, 관리자 사번, 급여, 급여 * 0.001 조회-- ex3_3 테이블의 160번 사원의 보너스 금액은 7.5로 신규 입력SELECT * FROM ex3_3;SELECT employee_id, salary, manager_id                  FROM employees                   WHERE manager_id = 146;-- 서브쿼리 개념 : 메인 쿼리 안에 추가된 쿼리-- UPDATE &amp; INSERT 구문-- 두개의 테이블 조인MERGE INTO ex3_3 d     USING (SELECT employee_id, salary, manager_id                  FROM employees                   WHERE manager_id = 146) b    ON (d.employee_id = b.employee_id)WHEN MATCHED THEN     UPDATE SET d.bonus_amt = d.bonus_amt + b.salary * 0.01 WHEN NOT MATCHED THEN    INSERT (d.employee_id, d.bonus_amt) VALUES (b.employee_id, b.salary * .001)    WHERE (b.salary &lt; 8000);    SELECT * FROM ex3_3 ORDER BY employee_id;-- p.106-- 테이블 삭제DELETE ex3_3;SELECT * FROM ex3_3 ORDER BY employee_id;-- p.107-- commit &amp; rollback(실무적으로 제일 중요)-- Commit은 변경한 데이터를 데이터베이스에 마지막으로 반영-- Rollback은 그 반대로 변경한 데이터를 변경하기 이전 상태로 되돌리는 역할CREATE TABLE ex3_4(    employee_id NUMBER);INSERT INTO ex3_4 VALUES(100);SELECT * FROM ex3_4;commit; -- p.110SELECT    ROWNUM, employee_idFROM employeesWHERE ROWNUM &lt; 5;-- ROWID, 주소 값-- DBA, DB 모델링(쿼리속도 측정 --&gt; 특징)SELECT    ROWNUM,    employee_id,    ROWIDFROM employeesWHERE ROWNUM &lt; 5;-- p.112-- 연산자-- Operator 연산 수행-- 수식 연산자 &amp; 문자 연산자-- &quot;||&quot; 두 문자를 붙이는 연결 연산자SELECT    employee_id ||&#x27;-&#x27;|| emp_name AS employee_infoFROM employeesWHERE ROWNUM &lt; 5;-- p.113-- 표현식-- 조건문, if조건문 (PL/SQL에서 쓸수있음)-- CASE 표현식-- 급여 5000이하는 C등급, 5000 ~ 15000 은 B, 15000이상은 A등급을 반환하는 조건식SELECT    employee_id    , salary    ,CASE WHEN salary &lt;= 5000 THEN &#x27;C등급&#x27;        WHEN salary &gt; 5000 AND salary &lt;= 15000 THEN &#x27;B등급&#x27;        ELSE &#x27;A등급&#x27;    END AS salary_gradeFROM employees;-- 조건식---- TRUE, FALSE, UNKNOWN 세가지 타입으로 반환됨-- 비교 조건식-- 분석가, DB 데이터를 추출할 시, 서브쿼리SELECT    employee_id    , salaryFROM employeesWHERE salary = ANY(2000, 3000, 4000)ORDER BY employee_id;-- ANY를 OR로 바꿀 경우(길어짐)SELECT    employee_id    , salaryFROM employeesWHERE salary = 2000 or salary = 3000 or salary = 4000ORDER BY employee_id;-- ALL 조건은 AND 조건과 비슷함SELECT    employee_id    , salaryFROM employeesWHERE salary = ALL(2000, 3000, 4000)ORDER BY employee_id;-- ANY = OR / ALL = AND-- SOMESELECT    employee_id,    salaryFROM employeesWHERE salary = SOME(2000, 3000, 4000)ORDER BY employee_id;-- NOT 조건식SELECT    employee_id,    salaryFROM employeesWHERE NOT(salary &gt;= 2500)ORDER BY employee_id;-- NULL 조건식SELECT    employee_id,    salaryFROM employeesWHERE salary BETWEEN 2000 AND 2500ORDER BY employee_id;-- IN 조건식-- 조건절에 명시한 값이 포함된 건을 반환하는데 앞에서 배웠던 ANY와 비슷하다SELECT    employee_id    , salaryFROM employeesWHERE salary IN(2000, 3000, 4000)ORDER BY employee_id;-- NOT INSELECT    employee_id    , salaryFROM employeesWHERE salary NOT IN(2000, 3000, 4000)ORDER BY employee_id;-- EXISTS 조건식(IN과 비슷함)-- &quot;서브쿼리&quot;만 올 수 있음.SELECT department_id, department_name    FROM departments aWHERE EXISTS (SELECT *                FROM employees b                WHERE a.department_id = b.department_id                AND b.salary &gt; 3000)ORDER BY a.department_name;-- **이번주는 서브쿼리에 초점 맞춰서 공부할 것**-- Like 조건식-- 문자열의 패턴을 검색해서 사용하는 조건식SELECT    emp_nameFROM employeesWHERE emp_name LIKE &#x27;A%&#x27;  -- &#x27;%A%&#x27; 로도 바꿔보고 &#x27;%A&#x27; 로도 바꿔보고~ &#x27;__A&#x27;로도 해보고ORDER BY emp_name;-- 4장은 굳이 리뷰 안해도 된다-- 4장 숫자함수-- p.126SELECT ABS(10), ABS(-10), ABS(-10.123)FROM DUAL;   -- 간단한 함수 테스트하고싶을때 DUAL 씀-- 정수 반환-- CEIL : 올림SELECT CEIL(10.123), CEIL(10.541), CEIL(11.001)FROM DUAL;-- FLOOR : 내림SELECT FLOOR(10.123), FLOOR(10.541), FLOOR(11.001)FROM DUAL;-- ROUND : 반올림(뒤에 ,숫자 하면 그 자리수만큼 반올림)SELECT ROUND(10.123, 2), ROUND(10.541, 3), ROUND(11.001, 4)FROM DUAL;-- TRUNC-- 반올림 안함.소수점 절삭, 자리수 지정 가능SELECT TRUNC(115.155), TRUNC(115.155, 1), TRUNC(115.155, 2), TRUNC(115.155, -1)FROM DUAL;-- POWER(제곱 함수)SELECT POWER(3,2),POWER(3,3),POWER(3,3.001)FROM DUAL;-- SQRT(제곱근 반환)SELECT SQRT(2), SQRT(5), SQRT(9)FROM DUAL;-- 문자열 데이터 전처리-- 데이터를 용량을 줄이는데 가장 효과적인 것은 문자열 데이터 전처리이다.-- 책으로 보기엔 애매하므로 잘 정리해서 블로그 올려보기-- INITCAP : 첫문자를 대문자로 나머지는 소문자로 변환-- 인식 기준은 공백과 알파벳(숫자포함)을 제외한 문자이다.SELECT INITCAP(&#x27;never say goodbye&#x27;), INITCAP(&#x27;never6say*good가bye&#x27;)FROM DUAL;-- LOWER : 매개변수로 들어오는 문자를 모두 소문자로, UPPDER 함수는 대문자로 반환SELECT LOWER(&#x27;NEVER SAY GOODBYE&#x27;), UPPER(&#x27;never say goodbye&#x27;)FROM DUAL;-- CONCAT(char1, char2) : &#x27;||&#x27; 연산자와 비슷SELECT CONCAT(&#x27;I Have&#x27;, &#x27; A Dream&#x27;), &#x27;I Have&#x27; || &#x27; A Dream&#x27;FROM DUAL;-- SUBSTR : 문자열 자르기(자주사용하는 함수)SELECT SUBSTR(&#x27;ABCDEFG&#x27;, 1, 4), SUBSTR(&#x27;ABCDEFG&#x27;, -1, 4)FROM DUAL;-- 글자 1개당 3Byte씩 인식(교재는 2Byte씩 인식)SELECT SUBSTRB(&#x27;ABCDEFG&#x27;, 1, 6), SUBSTRB(&#x27;가나다라마바사&#x27;, 1, 6)FROM DUAL;-- LTRIM, RTRIM 함수SELECT     LTRIM(&#x27;ABCDEFGABC&#x27;, &#x27;ABC&#x27;),    RTRIM(&#x27;ABCDEFGABC&#x27;, &#x27;ABC&#x27;)FROM DUAL;-- 날짜 함수(p.138)SELECT SYSDATE, SYSTIMESTAMP FROM DUAL;-- ADD_MONTHS-- ADD_MONTHS 함수, 매개변수로 들어온 날짜, integer 만큼 월을 더함SELECT ADD_MONTHS(SYSDATE, 1)FROM DUAL; -- 1월 증가SELECT ADD_MONTHS(SYSDATE, -1)FROM DUAL; -- 1월 감소SELECT MONTHS_BETWEEN(SYSDATE, ADD_MONTHS(SYSDATE,1))mon1FROM DUAL;-- LAST_DATE : date 날짜를 기준으로 해당 월의 마지막 일자를 반환SELECT LAST_DAY(SYSDATE) FROM DUAL;-- NEXT_DAY : 다음 주 주중 일자를 반환SELECT NEXT_DAY(SYSDATE, &#x27;금요일&#x27;)FROM DUAL;-- p.141 형변환-- TO_CHAR(숫자 혹은 날짜, format)SELECT TO_CHAR(123456789, &#x27;999,999,999&#x27;)FROM DUAL;SELECT TO_CHAR(SYSDATE, &#x27;YYYY-MM-DD&#x27;)FROM DUAL;-- 날짜 변환 형식/*--날짜 포맷TO_CHAR(SYSDATE,&#x27;YYYYMMDD&#x27;),--20191130TO_CHAR(SYSDATE,&#x27;YYYY-MM-DD&#x27;),--2019-11-30TO_CHAR(SYSDATE,&#x27;YYYY/MM/DD&#x27;),--2019/11/30TO_CHAR(SYSDATE,&#x27;YYYY&#x27;),--2019TO_CHAR(SYSDATE,&#x27;YY&#x27;),--19TO_CHAR(SYSDATE,&#x27;MM&#x27;),--11TO_CHAR(SYSDATE,&#x27;MON&#x27;),--11월TO_CHAR(SYSDATE,&#x27;D&#x27;),--7 (주중의 일을 1~7로 표시(일요일 = 1)TO_CHAR(SYSDATE,&#x27;DD&#x27;),--30TO_CHAR(SYSDATE,&#x27;DDD&#x27;),--334 (1년기준 일 수)TO_CHAR(SYSDATE,&#x27;DAY&#x27;),--토요일 (요일 표시)TO_CHAR(SYSDATE,&#x27;DY&#x27;) --토 (요일을 한자리로 표시)TO_CHAR(SYSDATE,&#x27;WW&#x27;), -- 48 (일년 기준 주를 00 ~ 53 형태로 표시)TO_CHAR(SYSDATE,&#x27;W&#x27;) -- 5 (한달 기준 몇번째 주)TO_CHAR(SYSDATE,&#x27;DL&#x27;),--2019년 11월 30일 토요일--사간 포맷TO_CHAR(SYSDATE,&#x27;AM&#x27;),--오전TO_CHAR(SYSDATE,&#x27;PM&#x27;),--오후TO_CHAR(SYSDATE,&#x27;HH&#x27;), --10 (시간을 0 ~ 12 형태로 표시)TO_CHAR(SYSDATE,&#x27;HH24&#x27;), --20 (시간을 0 ~ 24 형태로 표시)TO_CHAR(SYSDATE,&#x27;MI&#x27;), --03 (분을 00 ~ 59 형태로 표시)TO_CHAR(SYSDATE,&#x27;SS&#x27;) --10 (초을 01 ~ 59 형태로 표시)--세기 포맷TO_CHAR(SYSDATE,&#x27;CC&#x27;), --21 (세기)TO_CHAR(SYSDATE,&#x27;BC&#x27;), --서기*/-- 문자를 숫자로 변환SELECT TO_NUMBER(&#x27;123456&#x27;)FROM DUAL;-- NULL 관련함수(중요)SELECT manager_id, employee_id FROM employees;-- NVL : 표현식1이 NULL 일 때, 표현식2를 반환함SELECT NVL(manager_id, employee_id)FROM employeesWHERE manager_id IS NULL;-- NVL2 : 표현식1이 NULL이 아니면, 표현식2 출력,--        표현식2가 NULL이면, 표현식3을 출력SELECT employee_id FROM employees-- salary2에 NULL 이면 salary 값을 가져오고,--           NULL 이 아니면 salary x commission_pct 값을 salary2에 넣어라SELECT employee_id        , salary        , commission_pct        , NVL2(commission_pct, salary + (salary * commission_pct), salary)AS salary2FROM employeesWHERE employee_id IN (118, 179);-- COALESCE(expr1, expr2)-- 매개변수로 들어오는 표현식에서 NULL이 아닌 첫 번째 표현식 반환SELECT    employee_id    , salary    , commission_pct    , COALESCE(salary * commission_pct, salary)as salary2FROM employees;-- DECODE-- 파이썬의 IF-ELIF-ELIF-ELIF-ELSE 느낌SELECT * FROM salesSELECT prod_id,        DECODE(channel_id, 3, &#x27;Direct&#x27;,                           9, &#x27;Direct&#x27;,                           5, &#x27;Indirect&#x27;,                           4, &#x27;Indirect&#x27;,                              &#x27;Others&#x27;) decodesFROM salesWHERE rownum &lt; 10;","dateCreated":"2022-07-20T21:56:21+09:00","dateModified":"2022-07-21T21:21:40+09:00","datePublished":"2022-07-20T21:56:21+09:00","description":"\n테이블 별칭\n컬럼에 들어갈 값 넣기\nUPDATE, MERGE, INSERT\ncommit &amp; rollback\n연산자\n표현식, 조건식\n\n\n\n숫자 함수 \n날짜 함수\n문자열 데이터 전처리\nNVL, NVL2, COALESCE, DECODE","headline":"Oracle day0720","image":["oracle.png"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://neewlife.github.io/2022/07/20/day0720/"},"publisher":{"@type":"Organization","name":"오세영","sameAs":[]},"url":"https://neewlife.github.io/2022/07/20/day0720/","thumbnailUrl":"oracle.png"}</script>
    <meta name="description" content="테이블 별칭 컬럼에 들어갈 값 넣기 UPDATE, MERGE, INSERT commit &amp; rollback 연산자 표현식, 조건식    숫자 함수  날짜 함수 문자열 데이터 전처리 NVL, NVL2, COALESCE, DECODE">
<meta property="og:type" content="blog">
<meta property="og:title" content="Oracle day0720">
<meta property="og:url" content="https://neewlife.github.io/2022/07/20/day0720/index.html">
<meta property="og:site_name" content="개발 메모장">
<meta property="og:description" content="테이블 별칭 컬럼에 들어갈 값 넣기 UPDATE, MERGE, INSERT commit &amp; rollback 연산자 표현식, 조건식    숫자 함수  날짜 함수 문자열 데이터 전처리 NVL, NVL2, COALESCE, DECODE">
<meta property="og:locale" content="ko_KR">
<meta property="article:published_time" content="2022-07-20T12:56:21.000Z">
<meta property="article:modified_time" content="2022-07-21T12:21:40.650Z">
<meta property="article:author" content="오세영">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
        <meta property="og:image" content="https://NeewLife.github.io/2022/07/20/day0720/oracle.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://NeewLife.github.io/2022/07/20/day0720/oracle.png"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
            
<link rel="stylesheet" href="/assets/css/gitment.css">

        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            개발 메모장
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Oracle day0720
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2022-07-20T21:56:21+09:00">
	
		    2022/07/20
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Oracle/">Oracle</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt --></li>
</ul>
<h1 id="day-0720"><a href="#day-0720" class="headerlink" title="day 0720"></a>day 0720</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 과거 : SQL은 DB에서 자료를 조회하는 용도</span></span><br><span class="line"><span class="comment">-- 현재 : SQL이 수학 &amp; 통계 도구처럼 진화</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> EX2_10;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.92</span></span><br><span class="line"><span class="comment">-- 급여가 5000이 넘는 사원번호와 사원명 조회</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="comment">-- Select rows from a Table</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    EMPLOYEE_ID</span><br><span class="line">    , EMP_NAME</span><br><span class="line">    , SALARY</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEES</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> EMPLOYEE_ID;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 급여가 5000 이상, job_id, IT_PROG 사원 조회</span></span><br><span class="line"><span class="keyword">SELECT</span> EMPLOYEE_ID</span><br><span class="line">    , EMP_NAME</span><br><span class="line">    , JOB_ID</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEES</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">5000</span></span><br><span class="line">    <span class="keyword">or</span> job_id <span class="operator">=</span> <span class="string">&#x27;IT_PROG&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 테이블에 별칭 줄 수 있음</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    <span class="comment">-- a 테이블에서 옴(=employees)</span></span><br><span class="line">    a.employee_id, a.emp_name, a.department_id,</span><br><span class="line">    <span class="comment">-- b 테이블에서 옴(=departments)</span></span><br><span class="line">    b.department_name</span><br><span class="line"><span class="keyword">FROM</span> <span class="comment">-- (a, b 테이블을 각각 employees, departments로 정의)</span></span><br><span class="line">    employees a,</span><br><span class="line">    departments b</span><br><span class="line"><span class="keyword">WHERE</span> a.department_id <span class="operator">=</span> b.department_id;  <span class="comment">-- (즉, 치환하고 비슷하다고 보면 됨)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- INSERT 문</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ex3_1(</span><br><span class="line">        col1    VARCHAR2(<span class="number">10</span>),</span><br><span class="line">        col2    NUMBER,</span><br><span class="line">        COL3    <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 컬럼에 들어갈 값 넣는 기본형태</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_1(</span><br><span class="line">        col1,</span><br><span class="line">        col2, </span><br><span class="line">        col3)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ABC&#x27;</span>, </span><br><span class="line">        <span class="number">10</span>, </span><br><span class="line">        SYSDATE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 컬럼 순서는 바꿔도 상관없지만 각 VALUES절에 있는 순서와 맞춰야 한다.</span></span><br><span class="line"><span class="comment">-- col3 -&gt; &#x27;DATE&#x27; 값 / col1 -&gt; &#x27;VARCHAR2(10)&#x27; 값 이런 형식으로</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_1(</span><br><span class="line">        col3,</span><br><span class="line">        col1,</span><br><span class="line">        col2)</span><br><span class="line"><span class="keyword">VALUES</span> (SYSDATE, </span><br><span class="line">        <span class="string">&#x27;DEF&#x27;</span>, </span><br><span class="line">        <span class="number">20</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 컬럼명 기술 생략한 형태(갯수는 맞춰야함)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_1</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;GHI&#x27;</span>,</span><br><span class="line">        <span class="number">10</span>,</span><br><span class="line">        SYSDATE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 마찬가지로 갯수는 맞춰야 함</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_1(</span><br><span class="line">        col1,</span><br><span class="line">        col2)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;GHI&#x27;</span>,</span><br><span class="line">        <span class="number">20</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 컬럼 갯수랑 입력값 갯수가 달라서 에러 뜸</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_1</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;GHI&#x27;</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.98</span></span><br><span class="line"><span class="comment">-- 실습용 테이블 만들기</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ex3_2(</span><br><span class="line">        emp_id      NUMBER,</span><br><span class="line">        emp_name    VARCHAR2(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- employees 테이블에서 salary &gt; 5000 인 사원의 emp_id와 emp_name 을 조회한 결과를 ex3_2 테이블에 삽입</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_2(</span><br><span class="line">        emp_id,</span><br><span class="line">        emp_name)</span><br><span class="line"><span class="keyword">SELECT</span> employee_id,</span><br><span class="line">       emp_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">5000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.99</span></span><br><span class="line"><span class="comment">-- UPDATE 활용</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ex3_1 테이블의 col2 값을 모두 50으로 변경하기</span></span><br><span class="line"><span class="keyword">UPDATE</span> ex3_1 <span class="keyword">SET</span> col2 <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line"><span class="comment">-- 확인</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4번째 col3 값이 비어 있는데, 이 값을 현재 날짜로 갱신해보기</span></span><br><span class="line"><span class="keyword">UPDATE</span> ex3_1</span><br><span class="line">    <span class="keyword">SET</span> col3 <span class="operator">=</span> SYSDATE</span><br><span class="line"><span class="keyword">WHERE</span> col3 <span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> ex3_1</span><br><span class="line">    <span class="keyword">SET</span> col3 <span class="operator">=</span> SYSDATE</span><br><span class="line"><span class="keyword">WHERE</span> col3 <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.101</span></span><br><span class="line"><span class="comment">-- Merge, 데이터를 합치다 또는 추가하다</span></span><br><span class="line"><span class="comment">-- 조건을 비교해서 테이블에 해당 조건에 맞는 데이터 없으면 추가</span></span><br><span class="line"><span class="comment">-- 있으면 UPDATE문을 수행한다</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ex3_3(</span><br><span class="line">    employee_id NUMBER</span><br><span class="line">    , bonus_amt NUMBER <span class="keyword">DEFAULT</span> <span class="number">0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- sales 테이블에서 2000년 10월 ~ 2000년 12월까지 매출을 달성한 employee_id를 입력하기</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_3(employee_id)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    e.employee_id</span><br><span class="line"><span class="keyword">FROM</span> employees e, sales s</span><br><span class="line"><span class="keyword">WHERE</span> e.employee_id <span class="operator">=</span> s.employee_id</span><br><span class="line">    <span class="keyword">AND</span> s.SALES_MONTH <span class="keyword">BETWEEN</span><span class="string">&#x27;200010&#x27;</span><span class="keyword">AND</span><span class="string">&#x27;200012&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> e.employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 103.p</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    EMPLOYEE_ID</span><br><span class="line">    ,MANAGER_ID</span><br><span class="line">    ,SALARY</span><br><span class="line">    ,salary <span class="operator">*</span> <span class="number">0.001</span></span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEES</span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="keyword">NOT</span> <span class="keyword">IN</span>(<span class="keyword">SELECT</span> employee_id <span class="keyword">FROM</span> ex3_3)</span><br><span class="line">    <span class="keyword">AND</span> manager_id <span class="operator">=</span> <span class="number">146</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MERGE를 통해서 작성</span></span><br><span class="line"><span class="comment">-- 관리자 사번 146인 것 중, ex3_3 테이블에 없는</span></span><br><span class="line"><span class="comment">-- 사원의 사번, 관리자 사번, 급여, 급여 * 0.001 조회</span></span><br><span class="line"><span class="comment">-- ex3_3 테이블의 160번 사원의 보너스 금액은 7.5로 신규 입력</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> employee_id, salary, manager_id</span><br><span class="line">                  <span class="keyword">FROM</span> employees </span><br><span class="line">                  <span class="keyword">WHERE</span> manager_id <span class="operator">=</span> <span class="number">146</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 서브쿼리 개념 : 메인 쿼리 안에 추가된 쿼리</span></span><br><span class="line"><span class="comment">-- UPDATE &amp; INSERT 구문</span></span><br><span class="line"><span class="comment">-- 두개의 테이블 조인</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">MERGE</span> <span class="keyword">INTO</span> ex3_3 d </span><br><span class="line">    <span class="keyword">USING</span> (<span class="keyword">SELECT</span> employee_id, salary, manager_id</span><br><span class="line">                  <span class="keyword">FROM</span> employees </span><br><span class="line">                  <span class="keyword">WHERE</span> manager_id <span class="operator">=</span> <span class="number">146</span>) b</span><br><span class="line">    <span class="keyword">ON</span> (d.employee_id <span class="operator">=</span> b.employee_id)</span><br><span class="line"><span class="keyword">WHEN</span> MATCHED <span class="keyword">THEN</span> </span><br><span class="line">    <span class="keyword">UPDATE</span> <span class="keyword">SET</span> d.bonus_amt <span class="operator">=</span> d.bonus_amt <span class="operator">+</span> b.salary <span class="operator">*</span> <span class="number">0.01</span> </span><br><span class="line"><span class="keyword">WHEN</span> <span class="keyword">NOT</span> MATCHED <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">INSERT</span> (d.employee_id, d.bonus_amt) <span class="keyword">VALUES</span> (b.employee_id, b.salary <span class="operator">*</span> <span class="number">.001</span>)</span><br><span class="line">    <span class="keyword">WHERE</span> (b.salary <span class="operator">&lt;</span> <span class="number">8000</span>);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_3 <span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.106</span></span><br><span class="line"><span class="comment">-- 테이블 삭제</span></span><br><span class="line"><span class="keyword">DELETE</span> ex3_3;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_3 <span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.107</span></span><br><span class="line"><span class="comment">-- commit &amp; rollback(실무적으로 제일 중요)</span></span><br><span class="line"><span class="comment">-- Commit은 변경한 데이터를 데이터베이스에 마지막으로 반영</span></span><br><span class="line"><span class="comment">-- Rollback은 그 반대로 변경한 데이터를 변경하기 이전 상태로 되돌리는 역할</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ex3_4(</span><br><span class="line">    employee_id NUMBER</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ex3_4 <span class="keyword">VALUES</span>(<span class="number">100</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> ex3_4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">commit</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.110</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    ROWNUM, employee_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> ROWNUM <span class="operator">&lt;</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ROWID, 주소 값</span></span><br><span class="line"><span class="comment">-- DBA, DB 모델링(쿼리속도 측정 --&gt; 특징)</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    ROWNUM,</span><br><span class="line">    employee_id,</span><br><span class="line">    ROWID</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> ROWNUM <span class="operator">&lt;</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.112</span></span><br><span class="line"><span class="comment">-- 연산자</span></span><br><span class="line"><span class="comment">-- Operator 연산 수행</span></span><br><span class="line"><span class="comment">-- 수식 연산자 &amp; 문자 연산자</span></span><br><span class="line"><span class="comment">-- &quot;||&quot; 두 문자를 붙이는 연결 연산자</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id <span class="operator">||</span><span class="string">&#x27;-&#x27;</span><span class="operator">||</span> emp_name <span class="keyword">AS</span> employee_info</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> ROWNUM <span class="operator">&lt;</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.113</span></span><br><span class="line"><span class="comment">-- 표현식</span></span><br><span class="line"><span class="comment">-- 조건문, if조건문 (PL/SQL에서 쓸수있음)</span></span><br><span class="line"><span class="comment">-- CASE 표현식</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 급여 5000이하는 C등급, 5000 ~ 15000 은 B, 15000이상은 A등급을 반환하는 조건식</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line">    ,<span class="keyword">CASE</span> <span class="keyword">WHEN</span> salary <span class="operator">&lt;=</span> <span class="number">5000</span> <span class="keyword">THEN</span> <span class="string">&#x27;C등급&#x27;</span></span><br><span class="line">        <span class="keyword">WHEN</span> salary <span class="operator">&gt;</span> <span class="number">5000</span> <span class="keyword">AND</span> salary <span class="operator">&lt;=</span> <span class="number">15000</span> <span class="keyword">THEN</span> <span class="string">&#x27;B등급&#x27;</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">&#x27;A등급&#x27;</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> salary_grade</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 조건식</span></span><br><span class="line"><span class="comment">---- TRUE, FALSE, UNKNOWN 세가지 타입으로 반환됨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 비교 조건식</span></span><br><span class="line"><span class="comment">-- 분석가, DB 데이터를 추출할 시, 서브쿼리</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="keyword">ANY</span>(<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ANY를 OR로 바꿀 경우(길어짐)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="number">2000</span> <span class="keyword">or</span> salary <span class="operator">=</span> <span class="number">3000</span> <span class="keyword">or</span> salary <span class="operator">=</span> <span class="number">4000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ALL 조건은 AND 조건과 비슷함</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="keyword">ALL</span>(<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ANY = OR / ALL = AND</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- SOME</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id,</span><br><span class="line">    salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="keyword">SOME</span>(<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NOT 조건식</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id,</span><br><span class="line">    salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span>(salary <span class="operator">&gt;=</span> <span class="number">2500</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NULL 조건식</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id,</span><br><span class="line">    salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="keyword">BETWEEN</span> <span class="number">2000</span> <span class="keyword">AND</span> <span class="number">2500</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- IN 조건식</span></span><br><span class="line"><span class="comment">-- 조건절에 명시한 값이 포함된 건을 반환하는데 앞에서 배웠던 ANY와 비슷하다</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="keyword">IN</span>(<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NOT IN</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="keyword">NOT</span> <span class="keyword">IN</span>(<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> employee_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- EXISTS 조건식(IN과 비슷함)</span></span><br><span class="line"><span class="comment">-- &quot;서브쿼리&quot;만 올 수 있음.</span></span><br><span class="line"><span class="keyword">SELECT</span> department_id, department_name</span><br><span class="line">    <span class="keyword">FROM</span> departments a</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">                <span class="keyword">FROM</span> employees b</span><br><span class="line">                <span class="keyword">WHERE</span> a.department_id <span class="operator">=</span> b.department_id</span><br><span class="line">                <span class="keyword">AND</span> b.salary <span class="operator">&gt;</span> <span class="number">3000</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> a.department_name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- **이번주는 서브쿼리에 초점 맞춰서 공부할 것**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Like 조건식</span></span><br><span class="line"><span class="comment">-- 문자열의 패턴을 검색해서 사용하는 조건식</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    emp_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> emp_name <span class="keyword">LIKE</span> <span class="string">&#x27;A%&#x27;</span>  <span class="comment">-- &#x27;%A%&#x27; 로도 바꿔보고 &#x27;%A&#x27; 로도 바꿔보고~ &#x27;__A&#x27;로도 해보고</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> emp_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4장은 굳이 리뷰 안해도 된다</span></span><br><span class="line"><span class="comment">-- 4장 숫자함수</span></span><br><span class="line"><span class="comment">-- p.126</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">10</span>), <span class="built_in">ABS</span>(<span class="number">-10</span>), <span class="built_in">ABS</span>(<span class="number">-10.123</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;   <span class="comment">-- 간단한 함수 테스트하고싶을때 DUAL 씀</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 정수 반환</span></span><br><span class="line"><span class="comment">-- CEIL : 올림</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEIL</span>(<span class="number">10.123</span>), <span class="built_in">CEIL</span>(<span class="number">10.541</span>), <span class="built_in">CEIL</span>(<span class="number">11.001</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- FLOOR : 내림</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">10.123</span>), <span class="built_in">FLOOR</span>(<span class="number">10.541</span>), <span class="built_in">FLOOR</span>(<span class="number">11.001</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ROUND : 반올림(뒤에 ,숫자 하면 그 자리수만큼 반올림)</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">10.123</span>, <span class="number">2</span>), ROUND(<span class="number">10.541</span>, <span class="number">3</span>), ROUND(<span class="number">11.001</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- TRUNC</span></span><br><span class="line"><span class="comment">-- 반올림 안함.소수점 절삭, 자리수 지정 가능</span></span><br><span class="line"><span class="keyword">SELECT</span> TRUNC(<span class="number">115.155</span>), TRUNC(<span class="number">115.155</span>, <span class="number">1</span>), TRUNC(<span class="number">115.155</span>, <span class="number">2</span>), TRUNC(<span class="number">115.155</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- POWER(제곱 함수)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">POWER</span>(<span class="number">3</span>,<span class="number">2</span>),<span class="built_in">POWER</span>(<span class="number">3</span>,<span class="number">3</span>),<span class="built_in">POWER</span>(<span class="number">3</span>,<span class="number">3.001</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- SQRT(제곱근 반환)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SQRT</span>(<span class="number">2</span>), <span class="built_in">SQRT</span>(<span class="number">5</span>), <span class="built_in">SQRT</span>(<span class="number">9</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 문자열 데이터 전처리</span></span><br><span class="line"><span class="comment">-- 데이터를 용량을 줄이는데 가장 효과적인 것은 문자열 데이터 전처리이다.</span></span><br><span class="line"><span class="comment">-- 책으로 보기엔 애매하므로 잘 정리해서 블로그 올려보기</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- INITCAP : 첫문자를 대문자로 나머지는 소문자로 변환</span></span><br><span class="line"><span class="comment">-- 인식 기준은 공백과 알파벳(숫자포함)을 제외한 문자이다.</span></span><br><span class="line"><span class="keyword">SELECT</span> INITCAP(<span class="string">&#x27;never say goodbye&#x27;</span>), INITCAP(<span class="string">&#x27;never6say*good가bye&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- LOWER : 매개변수로 들어오는 문자를 모두 소문자로, UPPDER 함수는 대문자로 반환</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;NEVER SAY GOODBYE&#x27;</span>), <span class="built_in">UPPER</span>(<span class="string">&#x27;never say goodbye&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- CONCAT(char1, char2) : &#x27;||&#x27; 연산자와 비슷</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;I Have&#x27;</span>, <span class="string">&#x27; A Dream&#x27;</span>), <span class="string">&#x27;I Have&#x27;</span> <span class="operator">||</span> <span class="string">&#x27; A Dream&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- SUBSTR : 문자열 자르기(자주사용하는 함수)</span></span><br><span class="line"><span class="keyword">SELECT</span> SUBSTR(<span class="string">&#x27;ABCDEFG&#x27;</span>, <span class="number">1</span>, <span class="number">4</span>), SUBSTR(<span class="string">&#x27;ABCDEFG&#x27;</span>, <span class="number">-1</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 글자 1개당 3Byte씩 인식(교재는 2Byte씩 인식)</span></span><br><span class="line"><span class="keyword">SELECT</span> SUBSTRB(<span class="string">&#x27;ABCDEFG&#x27;</span>, <span class="number">1</span>, <span class="number">6</span>), SUBSTRB(<span class="string">&#x27;가나다라마바사&#x27;</span>, <span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- LTRIM, RTRIM 함수</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    LTRIM(<span class="string">&#x27;ABCDEFGABC&#x27;</span>, <span class="string">&#x27;ABC&#x27;</span>),</span><br><span class="line">    RTRIM(<span class="string">&#x27;ABCDEFGABC&#x27;</span>, <span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 날짜 함수(p.138)</span></span><br><span class="line"><span class="keyword">SELECT</span> SYSDATE, SYSTIMESTAMP <span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ADD_MONTHS</span></span><br><span class="line"><span class="comment">-- ADD_MONTHS 함수, 매개변수로 들어온 날짜, integer 만큼 월을 더함</span></span><br><span class="line"><span class="keyword">SELECT</span> ADD_MONTHS(SYSDATE, <span class="number">1</span>)<span class="keyword">FROM</span> DUAL; <span class="comment">-- 1월 증가</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ADD_MONTHS(SYSDATE, <span class="number">-1</span>)<span class="keyword">FROM</span> DUAL; <span class="comment">-- 1월 감소</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> MONTHS_BETWEEN(SYSDATE, ADD_MONTHS(SYSDATE,<span class="number">1</span>))mon1</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- LAST_DATE : date 날짜를 기준으로 해당 월의 마지막 일자를 반환</span></span><br><span class="line"><span class="keyword">SELECT</span> LAST_DAY(SYSDATE) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NEXT_DAY : 다음 주 주중 일자를 반환</span></span><br><span class="line"><span class="keyword">SELECT</span> NEXT_DAY(SYSDATE, <span class="string">&#x27;금요일&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- p.141 형변환</span></span><br><span class="line"><span class="comment">-- TO_CHAR(숫자 혹은 날짜, format)</span></span><br><span class="line"><span class="keyword">SELECT</span> TO_CHAR(<span class="number">123456789</span>, <span class="string">&#x27;999,999,999&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> TO_CHAR(SYSDATE, <span class="string">&#x27;YYYY-MM-DD&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 날짜 변환 형식</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">--날짜 포맷</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;YYYYMMDD&#x27;),--20191130</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;YYYY-MM-DD&#x27;),--2019-11-30</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;YYYY/MM/DD&#x27;),--2019/11/30</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;YYYY&#x27;),--2019</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;YY&#x27;),--19</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;MM&#x27;),--11</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;MON&#x27;),--11월</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;D&#x27;),--7 (주중의 일을 1~7로 표시(일요일 = 1)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;DD&#x27;),--30</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;DDD&#x27;),--334 (1년기준 일 수)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;DAY&#x27;),--토요일 (요일 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;DY&#x27;) --토 (요일을 한자리로 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;WW&#x27;), -- 48 (일년 기준 주를 00 ~ 53 형태로 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;W&#x27;) -- 5 (한달 기준 몇번째 주)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;DL&#x27;),--2019년 11월 30일 토요일</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--사간 포맷</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;AM&#x27;),--오전</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;PM&#x27;),--오후</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;HH&#x27;), --10 (시간을 0 ~ 12 형태로 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;HH24&#x27;), --20 (시간을 0 ~ 24 형태로 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;MI&#x27;), --03 (분을 00 ~ 59 형태로 표시)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;SS&#x27;) --10 (초을 01 ~ 59 형태로 표시)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--세기 포맷</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;CC&#x27;), --21 (세기)</span></span><br><span class="line"><span class="comment">TO_CHAR(SYSDATE,&#x27;BC&#x27;), --서기</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 문자를 숫자로 변환</span></span><br><span class="line"><span class="keyword">SELECT</span> TO_NUMBER(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> DUAL;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NULL 관련함수(중요)</span></span><br><span class="line"><span class="keyword">SELECT</span> manager_id, employee_id <span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NVL : 표현식1이 NULL 일 때, 표현식2를 반환함</span></span><br><span class="line"><span class="keyword">SELECT</span> NVL(manager_id, employee_id)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> manager_id <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- NVL2 : 표현식1이 NULL이 아니면, 표현식2 출력,</span></span><br><span class="line"><span class="comment">--        표현식2가 NULL이면, 표현식3을 출력</span></span><br><span class="line"><span class="keyword">SELECT</span> employee_id <span class="keyword">FROM</span> employees</span><br><span class="line"></span><br><span class="line"><span class="comment">-- salary2에 NULL 이면 salary 값을 가져오고,</span></span><br><span class="line"><span class="comment">--           NULL 이 아니면 salary x commission_pct 값을 salary2에 넣어라</span></span><br><span class="line"><span class="keyword">SELECT</span> employee_id</span><br><span class="line">        , salary</span><br><span class="line">        , commission_pct</span><br><span class="line">        , NVL2(commission_pct, salary <span class="operator">+</span> (salary <span class="operator">*</span> commission_pct), salary)<span class="keyword">AS</span> salary2</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> employee_id <span class="keyword">IN</span> (<span class="number">118</span>, <span class="number">179</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- COALESCE(expr1, expr2)</span></span><br><span class="line"><span class="comment">-- 매개변수로 들어오는 표현식에서 NULL이 아닌 첫 번째 표현식 반환</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    employee_id</span><br><span class="line">    , salary</span><br><span class="line">    , commission_pct</span><br><span class="line">    , <span class="built_in">COALESCE</span>(salary <span class="operator">*</span> commission_pct, salary)<span class="keyword">as</span> salary2</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- DECODE</span></span><br><span class="line"><span class="comment">-- 파이썬의 IF-ELIF-ELIF-ELIF-ELSE 느낌</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sales</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> prod_id,</span><br><span class="line">        DECODE(channel_id, <span class="number">3</span>, <span class="string">&#x27;Direct&#x27;</span>,</span><br><span class="line">                           <span class="number">9</span>, <span class="string">&#x27;Direct&#x27;</span>,</span><br><span class="line">                           <span class="number">5</span>, <span class="string">&#x27;Indirect&#x27;</span>,</span><br><span class="line">                           <span class="number">4</span>, <span class="string">&#x27;Indirect&#x27;</span>,</span><br><span class="line">                              <span class="string">&#x27;Others&#x27;</span>) decodes</span><br><span class="line"><span class="keyword">FROM</span> sales</span><br><span class="line"><span class="keyword">WHERE</span> rownum <span class="operator">&lt;</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/07/21/site/"
                    data-tooltip="쓸만한 사이트 모음"
                    aria-label="이전: 쓸만한 사이트 모음"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/07/19/day0719/"
                    data-tooltip="Oracle day0719"
                    aria-label="다음: Oracle day0719"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#gitment"
                        aria-label="댓글을 남겨주세요"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="gitment"></div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 오세영. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/07/21/site/"
                    data-tooltip="쓸만한 사이트 모음"
                    aria-label="이전: 쓸만한 사이트 모음"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/07/19/day0719/"
                    data-tooltip="Oracle day0719"
                    aria-label="다음: Oracle day0719"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://neewlife.github.io/2022/07/20/day0720/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#gitment"
                        aria-label="댓글을 남겨주세요"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://neewlife.github.io/2022/07/20/day0720/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://neewlife.github.io/2022/07/20/day0720/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://neewlife.github.io/2022/07/20/day0720/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">오세영</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    
        
<script src="/assets/js/gitment.js"></script>

        <script type="text/javascript">
          (function() {
            new Gitment({
              id: 'https://neewlife.github.io/2022/07/20/day0720/',
              owner: '',
              repo: '',
              oauth: {
                client_id: '',
                client_secret: ''
              }
            }).render('gitment')
          })()
        </script>
    




    </body>
</html>
